(this["webpackJsonpmer-front"]=this["webpackJsonpmer-front"]||[]).push([[0],{23:function(e,t,n){},39:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),s=n(32),a=n.n(s),i=(n(39),n(15)),c=(n(23),n(3)),u=n(2),l=n(9),h=n(10),b=n(8),d=n(13),p=n(12),j=n(4),g=n.n(j),f=n(0),m=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this)).state={book:{}},r._onDelete=r._onDelete.bind(Object(b.a)(r)),r._navigate=r._navigate.bind(Object(b.a)(r)),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.match.params.id),g.a.get("https://mern-library-back.herokuapp.com/books/"+this.props.match.params.id).then((function(t){console.log(t.data),e.setState({book:t.data})})).catch((function(e){console.log(e)}))}},{key:"_onDelete",value:function(){var e=this,t=this.props.match.params.id;g.a.delete("https://mern-library-back.herokuapp.com/books/"+t).then((function(t){e.props.history.push("/books")})).catch((function(e){console.log(e)}))}},{key:"_navigate",value:function(){var e=this.props.match.params.id;console.log("hello",e),this.props.history.push("/edit-book/".concat(e))}},{key:"render",value:function(){var e=this.state.book,t=new Date(e.published_date).toLocaleDateString();return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:e.title}),Object(f.jsxs)("div",{className:"book-details",children:[Object(f.jsx)("div",{className:"book image",children:void 0===e.image?Object(f.jsx)("img",{src:"../icons8-story-book-96.png",style:{width:"300px"},alt:"Image is unavailable"}):Object(f.jsx)("img",{src:e.image,alt:e.title})}),Object(f.jsxs)("div",{className:"book info",children:[Object(f.jsxs)("h3",{children:["By: ",e.author]}),Object(f.jsxs)("p",{children:["Description: ",e.description]}),Object(f.jsxs)("p",{children:["Publisher: ",e.publisher]}),"Invalid Date"===t?"Published date doesn't exist":Object(f.jsxs)("p",{children:["Published: ",t]})]})]}),Object(f.jsx)("button",{onClick:this._onDelete,className:"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 ...",children:" Delete"}),Object(f.jsx)("button",{onClick:this._navigate,className:" bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 ...",children:" Update"})]})}}]),n}(r.Component),O=function(e){var t=e.books;return Object(f.jsx)("div",{children:Object(f.jsx)(c.b,{to:"/books/".concat(t._id),children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("h3",{children:[" ",t.title]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"By:"})," ",t.author]})]})})})},x=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this)).state={books:[]},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;g.a.get("http://localhost:3001/books").then((function(t){e.setState({books:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=this.state.books;return e=t?t.map((function(e){return Object(f.jsxs)("p",{children:[Object(f.jsx)(O,{books:e}),"***"]})})):"There are no books",Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h2",{children:" All the books"}),Object(f.jsxs)("p",{children:[" ",e," "]})]})})}}]),n}(r.Component),v=n(11),y=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={title:"",author:"",description:"",isbn:"",image:"",published_date:"",publisher:""},e._onChange=e._onChange.bind(Object(b.a)(e)),e._onSubmit=e._onSubmit.bind(Object(b.a)(e)),e}return Object(h.a)(n,[{key:"_onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("heloooo");var n={title:this.state.title,author:this.state.author,description:this.state.description,isbn:this.state.isbn,image:this.state.image,published_date:this.state.published_date,publisher:this.state.publisher};g.a.post("https://mern-library-back.herokuapp.com/books",n).then((function(e){console.log(e),t.props.history.push("/books")})).catch((function(e){console.log("hope")}))}},{key:"_onChange",value:function(e){console.log(e.target.name),this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"CreateBook",children:[Object(f.jsx)("h3",{children:" Add a book to the library"}),Object(f.jsxs)("form",{onSubmit:this._onSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Title",name:"title",onChange:this._onChange,value:this.state.title,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Author",name:"author",onChange:this._onChange,value:this.state.author,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Description",name:"description",onChange:this._onChange,value:this.state.description,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ..."})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"date",placeholder:"Date of Publication",name:"published_date",onChange:this._onChange,value:this.state.published_date,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"file",placeholder:"Image",name:"image",onChange:this._onChange,value:this.state.image,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Publisher",name:"publisher",onChange:this._onChange,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",value:this.state.publisher})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"ISBN",name:"isbn",onChange:this._onChange,value:this.state.isbn,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 ...",children:"Add book"})})]})]})}}]),n}(r.Component),k=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this)).state={title:"",author:"",description:"",isbn:"",image:"",published_date:"",publisher:""},r._onChange=r._onChange.bind(Object(b.a)(r)),r._onSubmit=r._onSubmit.bind(Object(b.a)(r)),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.match.params.id),g.a.get("https://mern-library-back.herokuapp.com/books/"+this.props.match.params.id).then((function(t){console.log(t.data),e.setState({title:t.data.title,author:t.data.author,description:t.data.description,isbn:t.data.isbn,published_date:t.data.published_date,publisher:t.data.publisher})}))}},{key:"_onSubmit",value:function(e){var t=this,n=this.props.match.params.id;e.preventDefault(),console.log("heloooo");var r={title:this.state.title,author:this.state.author,description:this.state.description,isbn:this.state.isbn,image:this.state.image,published_date:this.state.published_date,publisher:this.state.publisher};g.a.put("https://mern-library-back.herokuapp.com/books/"+n,r).then((function(e){t.props.history.push("/books/"+n)})).catch((function(e){console.log("hope")}))}},{key:"_onChange",value:function(e){console.log(e.target.name),this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:" Update a book in the library"}),Object(f.jsxs)("form",{onSubmit:this._onSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Title",name:"title",onChange:this._onChange,value:this.state.title,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Author",name:"author",onChange:this._onChange,value:this.state.author,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Description",name:"description",onChange:this._onChange,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",value:this.state.description})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"date",placeholder:"Date of Publication",name:"published_date",onChange:this._onChange,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",value:this.state.published_date,required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"file",placeholder:"Image",name:"image",onChange:this._onChange,value:this.state.image,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Publisher",name:"publisher",onChange:this._onChange,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",value:this.state.publisher})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"ISBN",name:"isbn",onChange:this._onChange,value:this.state.isbn,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 ...",children:"Update Info "})})]})]})}}]),n}(r.Component),_=n(14),C=function(){var e=Object(r.useState)({first_name:"",last_name:"",username:"",email:"",password:""}),t=Object(i.a)(e,2),n=t[0],o=t[1],s=function(e){var t=e.target,r=t.name,s=t.value;o(Object(_.a)(Object(_.a)({},n),{},Object(v.a)({},r,s)))},a=Object(u.f)();return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Create a new account"}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=n.first_name,r=n.last_name,s=n.username,i=n.email,c=n.password;t&&r&&s&&i&&c&&g.a.post("https://mern-library-back.herokuapp.com/register",n).then((function(e){console.log(n),o(Object(_.a)({},n)),a.push("/")})).catch((function(e){console.log(e),alert("invalid input",e)}))},children:[Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",name:"first_name",value:n.first_name,onChange:s,placeholder:"First Name",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",name:"last_name",value:n.last_name,onChange:s,placeholder:"Last Name",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",name:"username",value:n.username,onChange:s,placeholder:"Username",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",name:"email",value:n.email,onChange:s,placeholder:"Email",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"password",name:"password",value:n.password,onChange:s,placeholder:"Password",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 ...",children:"Register"})]}),Object(f.jsxs)("div",{children:["Already have an account? ",Object(f.jsx)(c.b,{to:"/login",children:" Log in "})]})]})},N=function(e){var t=e.setLoginUser,n=Object(r.useState)({email:"",password:""}),o=Object(i.a)(n,2),s=o[0],a=o[1],l=Object(u.f)();console.log(l,"history");var h=function(e){var t=e.target,n=t.name,r=t.value;a(Object(_.a)(Object(_.a)({},s),{},Object(v.a)({},n,r)))};return Object(f.jsxs)("div",{children:[Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("click"),g.a.post("https://mern-library-back.herokuapp.com/login",s).then((function(e){console.log("id",e.data.user._id),t(e.data.user),l.push("/books")})).catch((function(e){console.log(e)}))},children:[Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",name:"email",value:s.email,onChange:h,placeholder:"Email",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"password",name:"password",value:s.password,onChange:h,placeholder:"Password",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 ...",children:"Log in"})]}),Object(f.jsxs)("div",{children:["Don't have an account? Sign up ",Object(f.jsx)(c.b,{to:"/register",children:"here"})]})]})},w=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:"He should be particularly happy at any time, etc. etc.; and if she would give him leave, would take an early opportunity of waiting on them."}),Object(f.jsx)("p",{children:"\u201cCan you come to-morrow?\u201d"}),Object(f.jsx)("p",{children:"Yes, he had no engagement at all for to-morrow; and her invitation was accepted with alacrity."}),Object(f.jsx)("p",{children:"He came, and in such very good time that the ladies were none of them dressed. In ran Mrs. Bennet to her daughter\u2019s room, in her dressing gown, and with her hair half finished, crying out:"}),Object(f.jsx)("p",{children:"\u201cMy dear Jane, make haste and hurry down. He is come--Mr. Bingley is come. He is, indeed. Make haste, make haste. Here, Sarah, come to Miss Bennet this moment, and help her on with her gown. Never mind Miss Lizzy\u2019s hair.\u201d"})]})}}]),n}(r.Component),S=w;var D=function(){var e=Object(r.useState)({}),t=Object(i.a)(e,2),n=t[0],o=t[1];return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)(c.a,{children:[Object(f.jsxs)("nav",{children:[Object(f.jsx)(c.b,{to:"/",children:"Home | "}),n&&n._id?Object(f.jsx)(c.b,{to:"/books",children:" Your Library |"}):Object(f.jsx)(c.b,{to:"/register",children:"Sign up |"}),n&&n._id?Object(f.jsx)(c.b,{to:"/create-book",children:" Add to your library "}):Object(f.jsx)(c.b,{to:"/login",children:" Log in"})]}),n&&n._id?Object(f.jsxs)("h1",{children:[n.username,"'s Library"]}):Object(f.jsx)("h1",{children:"The Library"}),Object(f.jsxs)("div",{children:[Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{exact:!0,path:"/",component:S}),Object(f.jsxs)(u.a,{exact:!0,path:"/books",children:[n&&n._id?Object(f.jsx)(x,{}):Object(f.jsx)(N,{setLoginUser:o})," "]}),Object(f.jsx)(u.a,{exact:!0,path:"/register",component:C}),Object(f.jsx)(u.a,{exact:!0,path:"/login",component:function(){return Object(f.jsx)(N,{setLoginUser:o})}})]}),Object(f.jsx)(u.a,{exact:!0,path:"/create-book",component:y}),Object(f.jsx)(u.a,{exact:!0,path:"/edit-book/:id",component:k}),Object(f.jsx)(u.a,{exact:!0,path:"/books/:id",component:m})]})]}),Object(f.jsx)("footer",{children:"Copyright"})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),s(e),a(e)}))};a.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(D,{})}),document.getElementById("root")),q()}},[[67,1,2]]]);
//# sourceMappingURL=main.30a61e51.chunk.js.map