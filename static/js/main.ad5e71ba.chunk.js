(this["webpackJsonpmer-front"]=this["webpackJsonpmer-front"]||[]).push([[0],{23:function(e,t,n){},39:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),o=n(32),a=n.n(o),i=(n(39),n(15)),c=(n(23),n(3)),u=n(2),l=n(9),b=n(10),p=n(8),h=n(13),d=n(12),j=n(4),g=n.n(j),f=n(0),m=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this)).state={book:{}},r._onDelete=r._onDelete.bind(Object(p.a)(r)),r._navigate=r._navigate.bind(Object(p.a)(r)),r}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.match.params.id),g.a.get("https://mern-library-back.herokuapp.com/books"+this.props.match.params.id).then((function(t){console.log(t.data),e.setState({book:t.data})})).catch((function(e){console.log(e)}))}},{key:"_onDelete",value:function(){var e=this,t=this.props.match.params.id;g.a.delete("https://mern-library-back.herokuapp.com/books"+t).then((function(t){e.props.history.push("/books")})).catch((function(e){console.log(e)}))}},{key:"_navigate",value:function(){var e=this.props.match.params.id;console.log("hello",e),this.props.history.push("/edit-book/".concat(e))}},{key:"render",value:function(){var e=this.state.book,t=new Date(e.published_date).toLocaleDateString();return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:e.title}),Object(f.jsxs)("div",{className:"book-details",children:[Object(f.jsx)("div",{className:"book image",children:void 0===e.image?Object(f.jsx)("img",{src:"../icons8-story-book-96.png",style:{width:"300px"},alt:"Image is unavailable"}):Object(f.jsx)("img",{src:e.image,alt:e.title})}),Object(f.jsxs)("div",{className:"book info",children:[Object(f.jsxs)("h3",{children:["By: ",e.author]}),Object(f.jsxs)("p",{children:["Description: ",e.description]}),Object(f.jsxs)("p",{children:["Publisher: ",e.publisher]}),"Invalid Date"===t?"Published date doesn't exist":Object(f.jsxs)("p",{children:["Published: ",t]})]})]}),Object(f.jsx)("button",{onClick:this._onDelete,className:"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 ...",children:" Delete"}),Object(f.jsx)("button",{onClick:this._navigate,className:" bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 ...",children:" Update"})]})}}]),n}(r.Component),O=function(e){var t=e.books;return Object(f.jsx)("div",{children:Object(f.jsx)(c.b,{to:"/books/".concat(t._id),children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("h3",{children:[" ",t.title]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"By:"})," ",t.author]})]})})})},x=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this)).state={books:[]},r}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this;g.a.get("https://mern-library-back.herokuapp.com/books").then((function(t){e.setState({books:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=this.state.books;return e=t?t.map((function(e){return Object(f.jsxs)("p",{children:[Object(f.jsx)(O,{books:e}),"***"]})})):"There are no books",Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("h2",{children:" All the books"}),Object(f.jsxs)("p",{children:[" ",e," "]})]})})}}]),n}(r.Component),v=n(11),y=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={title:"",author:"",description:"",isbn:"",image:"",published_date:"",publisher:""},e._onChange=e._onChange.bind(Object(p.a)(e)),e._onSubmit=e._onSubmit.bind(Object(p.a)(e)),e}return Object(b.a)(n,[{key:"_onSubmit",value:function(e){var t=this;e.preventDefault();var n={title:this.state.title,author:this.state.author,description:this.state.description,isbn:this.state.isbn,image:this.state.image,published_date:this.state.published_date,publisher:this.state.publisher};g.a.post("https://mern-library-back.herokuapp.com/books",n).then((function(e){t.setState({title:"",author:"",description:"",isbn:"",image:"",published_date:"",publisher:""}),t.props.history.push("/books")})).catch((function(e){console.log("hope")}))}},{key:"_onChange",value:function(e){console.log(e.target.name),this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"CreateBook",children:[Object(f.jsx)("h3",{children:" Add a book to the library"}),Object(f.jsxs)("form",{onSubmit:this._onSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Title",name:"title",onChange:this._onChange,value:this.state.title,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Author",name:"author",onChange:this._onChange,value:this.state.author,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Description",name:"description",onChange:this._onChange,value:this.state.description,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ..."})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"date",placeholder:"Date of Publication",name:"published_date",onChange:this._onChange,value:this.state.published_date,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"file",placeholder:"Image",name:"image",onChange:this._onChange,value:this.state.image,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Publisher",name:"publisher",onChange:this._onChange,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",value:this.state.publisher})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"ISBN",name:"isbn",onChange:this._onChange,value:this.state.isbn,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 ...",children:"Add book"})})]})]})}}]),n}(r.Component),k=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this)).state={title:"",author:"",description:"",isbn:"",image:"",published_date:"",publisher:""},r._onChange=r._onChange.bind(Object(p.a)(r)),r._onSubmit=r._onSubmit.bind(Object(p.a)(r)),r}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.match.params.id),g.a.get("https://mern-library-back.herokuapp.com/books"+this.props.match.params.id).then((function(t){console.log(t.data),e.setState({title:t.data.title,author:t.data.author,description:t.data.description,isbn:t.data.isbn,published_date:t.data.published_date,publisher:t.data.publisher})}))}},{key:"_onSubmit",value:function(e){var t=this,n=this.props.match.params.id;e.preventDefault(),console.log("heloooo");var r={title:this.state.title,author:this.state.author,description:this.state.description,isbn:this.state.isbn,image:this.state.image,published_date:this.state.published_date,publisher:this.state.publisher};g.a.put("http://localhost:3001/books/"+n,r).then((function(e){t.props.history.push("/books/"+n)})).catch((function(e){console.log("hope")}))}},{key:"_onChange",value:function(e){console.log(e.target.name),this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:" Update a book in the library"}),Object(f.jsxs)("form",{onSubmit:this._onSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Title",name:"title",onChange:this._onChange,value:this.state.title,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Author",name:"author",onChange:this._onChange,value:this.state.author,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Description",name:"description",onChange:this._onChange,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",value:this.state.description})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"date",placeholder:"Date of Publication",name:"published_date",onChange:this._onChange,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",value:this.state.published_date,required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"file",placeholder:"Image",name:"image",onChange:this._onChange,value:this.state.image,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"Publisher",name:"publisher",onChange:this._onChange,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",value:this.state.publisher})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",placeholder:"ISBN",name:"isbn",onChange:this._onChange,value:this.state.isbn,className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 ...",children:"Update Info "})})]})]})}}]),n}(r.Component),_=n(14),C=function(){var e=Object(r.useState)({first_name:"",last_name:"",username:"",email:"",password:""}),t=Object(i.a)(e,2),n=t[0],s=t[1],o=function(e){var t=e.target,r=t.name,o=t.value;s(Object(_.a)(Object(_.a)({},n),{},Object(v.a)({},r,o)))},a=Object(u.f)();return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:"Create a new account"}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=n.first_name,r=n.last_name,o=n.username,i=n.email,c=n.password;t&&r&&o&&i&&c&&g.a.post("https://mern-library-back.herokuapp.com/register",n).then((function(e){console.log(n),s(Object(_.a)({},n)),a.push("/")})).catch((function(e){console.log(e),alert("invalid input",e)}))},children:[Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",name:"first_name",value:n.first_name,onChange:o,placeholder:"First Name",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",name:"last_name",value:n.last_name,onChange:o,placeholder:"Last Name",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",name:"username",value:n.username,onChange:o,placeholder:"Username",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",name:"email",value:n.email,onChange:o,placeholder:"Email",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"password",name:"password",value:n.password,onChange:o,placeholder:"Password",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 ...",children:"Register"})]}),Object(f.jsxs)("div",{children:["Already have an account? ",Object(f.jsx)(c.b,{to:"/login",children:" Log in "})]})]})},N=function(e){var t=e.setLoginUser,n=Object(r.useState)({email:"",password:""}),s=Object(i.a)(n,2),o=s[0],a=s[1],l=Object(u.f)();console.log(l,"history");var b=function(e){var t=e.target,n=t.name,r=t.value;a(Object(_.a)(Object(_.a)({},o),{},Object(v.a)({},n,r)))};return Object(f.jsxs)("div",{children:[Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("click"),g.a.post("https://mern-library-back.herokuapp.com/login",o).then((function(e){console.log("id",e.data.user._id),t(e.data.user),l.push("/books")})).catch((function(e){console.log(e)}))},children:[Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"text",name:"email",value:o.email,onChange:b,placeholder:"Email",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("div",{children:Object(f.jsx)("input",{type:"password",name:"password",value:o.password,onChange:b,placeholder:"Password",className:"border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ...",required:!0})}),Object(f.jsx)("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 ...",children:"Log in"})]}),Object(f.jsxs)("div",{children:["Don't have an account? Sign up ",Object(f.jsx)(c.b,{to:"/register",children:"here"})]})]})},S=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:"lorem"})})}}]),n}(r.Component),D=S;var q=function(){var e=Object(r.useState)({}),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)(c.a,{children:[Object(f.jsxs)("nav",{children:[Object(f.jsx)(c.b,{to:"/",children:"Home | "}),n&&n._id?Object(f.jsx)(c.b,{to:"/books",children:" Your Library |"}):Object(f.jsx)(c.b,{to:"/register",children:"Sign up |"}),n&&n._id?Object(f.jsx)(c.b,{to:"/create-book",children:" Add to your library "}):Object(f.jsx)(c.b,{to:"/login",children:" Log in"})]}),n&&n._id?Object(f.jsxs)("h1",{children:[n.username,"'s Library"]}):Object(f.jsx)("h1",{children:"The Library"}),Object(f.jsxs)("div",{children:[Object(f.jsxs)(u.c,{children:[Object(f.jsx)(u.a,{exact:!0,path:"/",component:D}),Object(f.jsxs)(u.a,{exact:!0,path:"/books",children:[n&&n._id?Object(f.jsx)(x,{}):Object(f.jsx)(N,{setLoginUser:s})," "]}),Object(f.jsx)(u.a,{exact:!0,path:"/register",component:C}),Object(f.jsx)(u.a,{exact:!0,path:"/login",component:function(){return Object(f.jsx)(N,{setLoginUser:s})}})]}),Object(f.jsx)(u.a,{exact:!0,path:"/create-book",component:y}),Object(f.jsx)(u.a,{exact:!0,path:"/edit-book/:id",component:k}),Object(f.jsx)(u.a,{exact:!0,path:"/books/:id",component:m})]})]}),Object(f.jsx)("footer",{children:"Copyright"})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),s(e),o(e),a(e)}))};a.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(q,{})}),document.getElementById("root")),w()}},[[67,1,2]]]);
//# sourceMappingURL=main.ad5e71ba.chunk.js.map